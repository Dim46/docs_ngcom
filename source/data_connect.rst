.. _ngcom_data_connect:

Как подключать в Веб-ГИС данные из внешних источников 
=======================================================

:ref:`Веб-ГИС <ngcom_description>` поддерживает подключение векторных геоданных из внешних баз данных :term:`PostGIS` и подключение растровых геоданных из внешних :term:`WMS`-сервисов. 

.. _ngcom_postgis_connect:

Как подключать данные из внешней базы PostGIS
----------------------------------------------

.. _ngcom_postgis_connection:

Создайте ресурс “Соединение PostGIS”:
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

#. Откройте :ref:`Группу ресурсов <ngcom_resourses_group>`, в которой вы хотите создать соединение (на главной странице Веб-ГИС по умолчанию открыта Основная группа ресурсов);
#. Выберите пункт “Соединение PostGIS” в меню “Создать ресурс” на правой панели :ref:`веб-интерфейса <ngw_admin_interface>` Веб-ГИС;
#. В открывшемся окне заполните поле “Наименование” на вкладке “Ресурс”, затем заполните поля “Сервер”, “База данных”, “Пользователь” (если применимо) и “Пароль” (если применимо) на вкладке “Соединение PostGIS”;
#. Нажмите кнопку “Создать”. Если Соединение PostGIS создалось успешно, то информация о нем появится в блоке “Дочерние ресурсы” соответствующей :ref:`Группы ресурсов <ngcom_resourses_group>`.

.. _ngcom_postgis_layer:

Создайте ресурс “Слой PostGIS”:
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

#. Откройте :ref:`Группу ресурсов <ngcom_resourses_group>`, в которой вы хотите создать слой (на главной странице Веб-ГИС по умолчанию открыта Основная группа ресурсов);
#. Выберите пункт “Слой PostGIS” в меню “Создать ресурс” на правой панели :ref:`веб-интерфейса <ngw_admin_interface>` Веб-ГИС;
#. В открывшемся окне заполните поле “Наименование” на вкладке “Ресурс”, затем на вкладке “Слой PostGIS” выберите :ref:`Соединение PostGIS <ngcom_postgis_connection>` и заполните поля “Схема”, “Таблица”, “Поле ID” и “Поле геометрии”;
#. Нажмите кнопку “Создать”. Если Слой PostGIS создался успешно, то информация о нем появится в блоке “Дочерние ресурсы” соответствующей :ref:`Группы ресурсов <ngcom_resourses_group>`.

Больше информации о подключении векторных геоданных из внешних баз данных :term:`PostGIS` - :ref:`здесь <ngw_create_postgis_layer>`.

Если вы планируете просматривать Слой PostGIS с помощью :ref:`Веб-карты <ngcom_webmap_create>` или публиковать его по протоколу :term:`WMS`, необходимо создать для него :ref:`Стиль <ngcom_styles>`.

.. _ngcom_wms_connect:

Как подключать данные из внешнего WMS-сервиса
-----------------------------------------------

.. _ngcom_wms_connection:

Создайте ресурс “Соединение WMS”:
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

#. Откройте :ref:`Группу ресурсов <ngcom_resourses_group>`, в которой вы хотите создать cоединение (на главной странице Веб-ГИС по умолчанию открыта Основная группа ресурсов);
#. Выберите пункт “Соединение WMS” в меню “Создать ресурс” на правой панели :ref:`веб-интерфейса <ngw_admin_interface>` Веб-ГИС;
#. В открывшемся окне заполните поле “Наименование” на вкладке “Ресурс”, затем на вкладке “Соединение WMS” заполните поля “URL”, “Имя пользователя” (если применимо) и “Пароль” (если применимо) для подключения к серверу :term:`WMS`;

	.. warning:: 
		Сервер :term:`WMS`, к которому осуществляется подключение, должен поддерживать :term:`систему коодинат <система координат>` EPSG:3857.

#. Нажмите кнопку “Создать”. Если Соединение WMS создалось успешно, то информация о нем появится в блоке “Дочерние ресурсы” соответствующей :ref:`Группы ресурсов <ngcom_resourses_group>`.

.. _ngcom_wms_layer:

Создайте ресурс “Слой WMS”:
~~~~~~~~~~~~~~~~~~~~~~~~~~~~

#. Откройте :ref:`Группу ресурсов <ngcom_resourses_group>`, в которой вы хотите создать слой (на главной странице Веб-ГИС по умолчанию открыта Основная группа ресурсов);
#. Выберите пункт “Слой WMS” в меню “Создать ресурс” на правой панели :ref:`веб-интерфейса <ngw_admin_interface>` Веб-ГИС;
#. В открывшемся окне заполните поле “Наименование” на вкладке “Ресурс”, затем на вкладке “Слой WMS” выберите :ref:`Соединение WMS <ngcom_wms_connection>`, формат изображения и необходимые слои;
#. Нажмите кнопку “Создать”. Если Слой WMS создался успешно, то информация о нем появится в блоке “Дочерние ресурсы” соответствующей :ref:`Группы ресурсов <ngcom_resourses_group>`.

Больше информации о подключении векторных геоданных из внешних :term:`WMS`-сервисов - :ref:`здесь <ngw_create_wms_layer>`.